<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Orbitron">
        <link rel="icon" type="image/x-icon" href="picture/10166.10_Year_Anniversary_Poro_profileicon.png">
        <title>Form</title>
    </head>
    <body>
        <div id="grid-container" class="hide-nav-grid">
            <div id="header-container">
              <div class="header">
                <div class="left-header">
                    <div class="test">
                        <img id="icon" src="picture/Udyr/10008.Udyr_OriginalC.png" alt="Sample photo" width="50px" class="inline-block">
                        <h1 id="title" class="inline-block">League of Legends Fans Club</h1>
                    </div>
                </div>
                <nav>
                    <a href="index.html">Home</a>
                    <a href="story.html">Story</a>
                    <a href="champion.html">Champion's Status</a>
                    <a href="form.html">Form</a>
                </nav>  
            </div>
            </div>
            <div id="article">
                <img src="picture/cute/poro.png" alt="Sample photo" width="200px" style="margin-top: 30px;margin-bottom: 15px;">
                <form id="form">
                    <h4>
                        <label for="name">User Name:</label>
                        <input type="text" id="name" name="name"><br><br>
                        <label for="email">Email Addres:</label>
                        <input type="email" id="email" name="email" pattern="^[A-Za-z0-9@.]*" required="required" /><br><br>

                        <label>Gender:</label>
                        <input type="radio" id="male" name="gender" value="male">
                        <label for="male">Male</label>
                        <input type="radio" id="female" name="gender" value="female">
                        <label for="female">Female</label>
                        <input type="radio" id="secret" name="gender" value="secret" checked="checked">
                        <label for="secret">Secret</label><br><br>

                        <label>Server:</label>
                        <input type="checkbox" id="tw" name="server" value="tw">
                        <label for="tw">TW</label>
                        <input type="checkbox" id="jp" name="server" value="jp">
                        <label for="jp">JP</label>
                        <input type="checkbox" id="cn" name="server" value="cn">
                        <label for="cn">CN</label><br><br>

                        <label for="city">City:</label>
                        <select id="city" name="city">
                            <optgroup label="Usual">
                                <option value="hongkong">Hong Kong</option>
                            </optgroup>
                            <optgroup label="Other">
                                <option value="china">China</option>
                                <option value="japan">Japan</option>
                                <option value="taiwan">Taiwan</option>
                                <option value="other">Other</option>
                            </optgroup>
                        </select><br><br>

                        <fieldset>
                            <legend>Favourite Lane:</legend>
                            <input type="checkbox" id="top" name="lane" value="top">
                            <label for="top">Top</label><br>
                            <input type="checkbox" id="mid" name="lane" value="mid">
                            <label for="mid">Mid</label><br>
                            <input type="checkbox" id="adc" name="lane" value="adc">
                            <label for="adc">ADC</label><br>
                            <input type="checkbox" id="sup" name="lane" value="sup">
                            <label for="sup">Support</label><br>
                            <input type="checkbox" id="jg" name="lane" value="jg">
                            <label for="jg">Jungle</label>

                        </fieldset><br>

                        <fieldset>
                            <legend>Any FeedBack:</legend>
                            <textarea rows="9" input type="text" cols="40" id="message" name="fb">For example, your favourite Champion or playing style...</textarea>
                        </fieldset><br>

                        <label for="year">Played Years:</label>
                        <input type="number" id="year" name="Year" min="1" max="13" pattern="^[0-9]{2}$" required="required" /> (Now is S13)<br><br>
                        <label for="date">Date of Joining:</label>
                        <input type="date" id="date" name="date"><br><br>
                        <input type="submit" value="Submit">
                        <!-- <button type="button" onclick="submitForm()">Submit</button> -->
                    </h4>
                </form>
                <script>
                    // Add an event listener to the form's submit button
                    var form = document.getElementById("form");
                    form.addEventListener("submit", function(event) {
                      event.preventDefault(); // Prevent the form from actually submitting
                        
                      var checkedValues = [];
                        var checkboxes = document.getElementsByName("server");
                        for (var i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].checked) {
                            checkedValues.push(checkboxes[i].value);
                        }
                        }
                        var checkedValues2 = [];
                        var checkboxes2 = document.getElementsByName("lane");
                        for (var i = 0; i < checkboxes2.length; i++) {
                        if (checkboxes2[i].checked) {
                            checkedValues2.push(checkboxes2[i].value);
                        }
                        }

                      // Retrieve the form data
                      var formData = {
                        name: document.getElementById("name").value,
                        email: document.getElementById("email").value,
                        gender: document.querySelector('input[name="gender"]:checked').value,
                        server: checkedValues,
                        city: document.getElementById("city").value,
                        lane: checkedValues2,
                        message: document.getElementById("message").value,
                        year: document.getElementById("year").value,
                        date: document.getElementById("date").value,
                      };
              
                      // Store the form data in localStorage as a JSON string
                      localStorage.setItem("formData", JSON.stringify(formData));
              
                      // Redirect to the next page
                      window.location.href = "souvenirs.html";
                    });
                </script>
            </div>
            <div id="footer">
                <h6>ABOUT US</h6>
                <span>
                    ITE3006 IT Essentials - Web<br>
                    Ho Lok Hin 220367969<br>
                    Lau Kai Yuen 220333388<br>
                    GSD 1A IVE TY Campus
                </span>
            </div>
        </div>>
    </body>
</html>